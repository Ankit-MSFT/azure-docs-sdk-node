### YamlMime:TSType
name: Semaphore
uid: '@azure/service-bus.Semaphore'
package: '@azure/service-bus'
summary: ''
fullName: Semaphore
isPreview: false
isDeprecated: false
type: class
constructors:
  - name: Semaphore(number)
    uid: '@azure/service-bus.Semaphore.constructor'
    package: '@azure/service-bus'
    summary: ''
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'new Semaphore(limit: number)'
      parameters:
        - id: limit
          type: number
          description: ''
properties:
  - name: limit
    uid: '@azure/service-bus.Semaphore.limit'
    package: '@azure/service-bus'
    summary: The number of concurrent calls that can be made.
    fullName: limit
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'limit: number'
      return:
        type: number
        description: ''
methods:
  - name: acquire()
    uid: '@azure/service-bus.Semaphore.acquire'
    package: '@azure/service-bus'
    summary: >-
      Acquires a lock from the semaphore, returns a Promise that resolves when
      the caller holds

      a lock.
    isPreview: false
    isDeprecated: false
    syntax:
      content: function acquire()
      return:
        type: Promise&lt;void&gt;
        description: ''
  - name: awaitedTaskCount()
    uid: '@azure/service-bus.Semaphore.awaitedTaskCount'
    package: '@azure/service-bus'
    summary: Provides the number of tasks waiting to acquire a lock.
    isPreview: false
    isDeprecated: false
    syntax:
      content: function awaitedTaskCount()
      return:
        type: number
        description: ''
  - name: currentLockCount()
    uid: '@azure/service-bus.Semaphore.currentLockCount'
    package: '@azure/service-bus'
    summary: Provides the number of locks currently held.
    isPreview: false
    isDeprecated: false
    syntax:
      content: function currentLockCount()
      return:
        type: number
        description: ''
  - name: release()
    uid: '@azure/service-bus.Semaphore.release'
    package: '@azure/service-bus'
    summary: Releases a lock back to the semaphore.
    isPreview: false
    isDeprecated: false
    syntax:
      content: function release()
  - name: use<T>(() => T | PromiseLike<T>)
    uid: '@azure/service-bus.Semaphore.use'
    package: '@azure/service-bus'
    summary: >-
      Aquires a lock from the semaphore and then execute the fn. If the fn
      returns a Promise,

      wait for that promise to settle and then release the lock back to the
      semaphore.
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'function use<T>(fn: () => T | PromiseLike<T>)'
      parameters:
        - id: fn
          type: () =&gt; T | PromiseLike&lt;T&gt;
          description: The function that needs to be executed in the ciritical region.
      return:
        type: Promise&lt;T&gt;
        description: A Promise that will settle with the return value of fn.
