### YamlMime:TSType
name: SessionReceiver
uid: '@azure/service-bus.SessionReceiver'
package: '@azure/service-bus'
summary: 'A receiver that handles sessions, including renewing the session lock.'
fullName: SessionReceiver<ReceivedMessageT>
isPreview: false
isDeprecated: false
type: interface
properties:
  - name: entityPath
    uid: '@azure/service-bus.SessionReceiver.entityPath'
    package: '@azure/service-bus'
    summary: Path of the entity for which the receiver has been created.
    fullName: entityPath
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'entityPath: string'
      return:
        type: string
        description: ''
  - name: isClosed
    uid: '@azure/service-bus.SessionReceiver.isClosed'
    package: '@azure/service-bus'
    summary: >-
      Returns `true` if either the receiver or the client that created it has
      been closed
    fullName: isClosed
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'isClosed: boolean'
      return:
        type: boolean
        description: ''
  - name: receiveMode
    uid: '@azure/service-bus.SessionReceiver.receiveMode'
    package: '@azure/service-bus'
    summary: ReceiveMode provided to the client.
    fullName: receiveMode
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'receiveMode: "peekLock" | "receiveAndDelete"'
      return:
        type: '"peekLock" | "receiveAndDelete"'
        description: ''
  - name: sessionId
    uid: '@azure/service-bus.SessionReceiver.sessionId'
    package: '@azure/service-bus'
    summary: The session ID.
    fullName: sessionId
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'sessionId: string'
      return:
        type: string
        description: ''
  - name: sessionLockedUntilUtc
    uid: '@azure/service-bus.SessionReceiver.sessionLockedUntilUtc'
    package: '@azure/service-bus'
    summary: >-
      The time in UTC until which the session is locked.

      Every time `renewSessionLock()` is called, this time gets updated to
      current time plus the lock

      duration as specified during the Queue/Subscription creation.


      Will return undefined until a AMQP receiver link has been successfully set
      up for the session.
    fullName: sessionLockedUntilUtc
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'sessionLockedUntilUtc: Date | undefined'
      return:
        type: Date | undefined
        description: ''
methods:
  - name: close()
    uid: '@azure/service-bus.SessionReceiver.close'
    package: '@azure/service-bus'
    summary: >-
      Closes the receiver.

      Once closed, the receiver cannot be used for any further operations.

      Use the `createReceiver()` method on the ServiceBusClient to create a new
      Receiver.
    isPreview: false
    isDeprecated: false
    syntax:
      content: function close()
      return:
        type: Promise&lt;void&gt;
        description: ''
  - name: getMessageIterator(GetMessageIteratorOptions)
    uid: '@azure/service-bus.SessionReceiver.getMessageIterator'
    package: '@azure/service-bus'
    summary: >-
      Returns an iterator that can be used to receive messages from Service Bus.

      If the iterator is not able to fetch a new message in over a minute,
      `undefined` will be returned.
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'function getMessageIterator(options?: GetMessageIteratorOptions)'
      parameters:
        - id: options
          type: <xref uid="@azure/service-bus.GetMessageIteratorOptions" />
          description: >
            A set of options to control the receive operation.

            - `maxWaitTimeInMs`: The time to wait to receive the message in each
            iteration.

            - `abortSignal`: The signal to use to abort the ongoing operation.
      return:
        type: AsyncIterableIterator&lt;ReceivedMessageT&gt;
        description: ''
  - name: getState(OperationOptionsBase)
    uid: '@azure/service-bus.SessionReceiver.getState'
    package: '@azure/service-bus'
    summary: >-
      Gets the state of the Session. For more on session states, see

      [Session
      State](https://docs.microsoft.com/en-us/azure/service-bus-messaging/message-sessions#message-session-state)
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'function getState(options?: OperationOptionsBase)'
      parameters:
        - id: options
          type: <xref uid="@azure/service-bus.OperationOptionsBase" />
          description: Options bag to pass an abort signal or tracing options.
      return:
        type: Promise&lt;any&gt;
        description: The state of that session
  - name: 'peekMessages(number, PeekMessagesOptions)'
    uid: '@azure/service-bus.SessionReceiver.peekMessages'
    package: '@azure/service-bus'
    summary: >-
      Peek the next batch of active messages (including deferred but not
      deadlettered messages) on the

      queue or subscription without modifying them.

      - The first call to `peekMessages()` fetches the first active message.
      Each subsequent call fetches the

      subsequent message.

      - Unlike a "received" message, "peeked" message is a read-only version of
      the message.

      It cannot be `Completed/Abandoned/Deferred/Deadlettered`.
    isPreview: false
    isDeprecated: false
    syntax:
      content: >-
        function peekMessages(maxMessageCount: number, options?:
        PeekMessagesOptions)
      parameters:
        - id: maxMessageCount
          type: number
          description: The maximum number of messages to peek.
        - id: options
          type: <xref uid="@azure/service-bus.PeekMessagesOptions" />
          description: >
            Options that allow to specify the maximum number of messages to
            peek,

            the sequenceNumber to start peeking from or an abortSignal to abort
            the operation.
      return:
        type: 'Promise&lt;<xref uid="@azure/service-bus.ReceivedMessage" />[]&gt;'
        description: ''
  - name: 'receiveDeferredMessages(Long | Long[], OperationOptionsBase)'
    uid: '@azure/service-bus.SessionReceiver.receiveDeferredMessages'
    package: '@azure/service-bus'
    summary: >-
      Returns a promise that resolves to an array of deferred messages
      identified by given `sequenceNumbers`.
    isPreview: false
    isDeprecated: false
    syntax:
      content: >-
        function receiveDeferredMessages(sequenceNumbers: Long | Long[],
        options?: OperationOptionsBase)
      parameters:
        - id: sequenceNumbers
          type: 'Long | Long[]'
          description: >-
            The sequence number or an array of sequence numbers for the messages
            that need to be received.
        - id: options
          type: <xref uid="@azure/service-bus.OperationOptionsBase" />
          description: Options bag to pass an abort signal or tracing options.
      return:
        type: 'Promise&lt;ReceivedMessageT[]&gt;'
        description: |-
          - Returns a list of messages identified by the given sequenceNumbers.
          - Returns an empty list if no messages are found.
  - name: 'receiveMessages(number, ReceiveMessagesOptions)'
    uid: '@azure/service-bus.SessionReceiver.receiveMessages'
    package: '@azure/service-bus'
    summary: >-
      Returns a promise that resolves to an array of messages received from
      Service Bus.
    isPreview: false
    isDeprecated: false
    syntax:
      content: >-
        function receiveMessages(maxMessageCount: number, options?:
        ReceiveMessagesOptions)
      parameters:
        - id: maxMessageCount
          type: number
          description: The maximum number of messages to receive.
        - id: options
          type: <xref uid="@azure/service-bus.ReceiveMessagesOptions" />
          description: >-
            A set of options to control the receive operation.

            - `maxWaitTimeInMs`: The maximum time to wait for the first message
            before returning an empty array if no messages are available.

            - `abortSignal`: The signal to use to abort the ongoing operation.
      return:
        type: 'Promise&lt;ReceivedMessageT[]&gt;'
        description: >-
          Promise<ReceivedMessageT[]> A promise that resolves with an array of
          messages.
  - name: renewSessionLock(OperationOptionsBase)
    uid: '@azure/service-bus.SessionReceiver.renewSessionLock'
    package: '@azure/service-bus'
    summary: Renews the lock on the session.
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'function renewSessionLock(options?: OperationOptionsBase)'
      parameters:
        - id: options
          type: <xref uid="@azure/service-bus.OperationOptionsBase" />
          description: ''
      return:
        type: Promise&lt;Date&gt;
        description: ''
  - name: 'setState(any, OperationOptionsBase)'
    uid: '@azure/service-bus.SessionReceiver.setState'
    package: '@azure/service-bus'
    summary: >-
      Sets the state on the Session. For more on session states, see

      [Session
      State](https://docs.microsoft.com/en-us/azure/service-bus-messaging/message-sessions#message-session-state)
    isPreview: false
    isDeprecated: false
    syntax:
      content: 'function setState(state: any, options?: OperationOptionsBase)'
      parameters:
        - id: state
          type: any
          description: ''
        - id: options
          type: <xref uid="@azure/service-bus.OperationOptionsBase" />
          description: Options bag to pass an abort signal or tracing options.
      return:
        type: Promise&lt;void&gt;
        description: ''
  - name: 'subscribe(MessageHandlers<ReceivedMessageT>, SubscribeOptions)'
    uid: '@azure/service-bus.SessionReceiver.subscribe'
    package: '@azure/service-bus'
    summary: Streams messages to message handlers.
    isPreview: false
    isDeprecated: false
    syntax:
      content: >-
        function subscribe(handlers: MessageHandlers<ReceivedMessageT>,
        options?: SubscribeOptions)
      parameters:
        - id: handlers
          type: >-
            <xref uid="@azure/service-bus.MessageHandlers"
            />&lt;ReceivedMessageT&gt;
          description: A handler that gets called for messages and errors.
        - id: options
          type: <xref uid="@azure/service-bus.SubscribeOptions" />
          description: Options for subscribe.
      return:
        type: Object
        description: >-
          An object that can be closed, sending any remaining messages to
          `handlers` and

          stopping new messages from arriving.
extends: <xref uid="@azure/service-bus.Receiver" />&lt;ReceivedMessageT&gt;
